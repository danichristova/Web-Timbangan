<!DOCTYPE html>
<html>

<head>
  <title>Monitoring Timbangan</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <h1>Monitoring Timbangan</h1>
  <p>IP ESP: <span id="ip">-</span></p>

  <div class="card">
    Berat:
    <h2 id="weight">0</h2>
  </div>

  <div class="card">
    Jumlah Botol:
    <h2 id="bottleCount">0</h2>
  </div>

  <div class="card">
    Status:
    <h2 id="status">-</h2>
  </div>

  <div class="card">
    Pengaturan Berat Per Botol:
    <br><br>
    <input type="number" id="bottleWeight" placeholder="Berat per botol (gram)" min="0" step="0.1">
    <br><br>
    <button onclick="saveBottleWeight()">Simpan</button>
  </div>

  <div class="card">
    Kalibrasi:
    <br><br>
    <p style="font-size: 12px; color: #666;">
      1. Pastikan timbangan kosong, klik "Tare"<br>
      2. Masukkan beban yang diketahui (contoh: 1000g)<br>
      3. Klik "Kalibrasi" dan tunggu 20 detik<br>
      Status akan berubah menjadi "Stabil" saat selesai
    </p>
    <br>
    <input type="number" id="known" placeholder="Berat diketahui (gram)">
    <br><br>
    <button onclick="kalibrasi()">Kalibrasi</button>
    <button onclick="tare()">Tare</button>
  </div>

  <div class="card">
    Kontrol Output (Pin 21):
    <br><br>
    <button onclick="openPin()" style="background:#28a745;color:#fff;padding:8px 12px;border:none;border-radius:4px;margin-right:8px;">Buka</button>
    <button onclick="closePin()" style="background:#dc3545;color:#fff;padding:8px 12px;border:none;border-radius:4px;">Tutup</button>
    <p style="font-size:12px;color:#666;margin-top:8px;">Gunakan tombol "Buka" untuk mengaktifkan pin 21, "Tutup" untuk mematikan pin 21.</p>
  </div>

  <div class="card">
    Log:
    <h3 id="log">-</h3>
  </div>

  <script type="module" src="script.js"></script>

</body>

</html>